language: python

python:
  - "3.6"

cache: pip

addons:
  chrome: stable

services:
  - xvfb

notifications:
  email: false

install: 
  - make chromedriver
  - make pipenv

jobs:
  include:
    - script: 
      - xvfb-run pipenv run pytest -m eight88sport --proxy $PROXY
      - xvfb-run pipenv run pytest -m bet365
      - xvfb-run pipenv run pytest -m bwin
      - xvfb-run pipenv run pytest -m williamhill --proxy $PROXY
    - stage: coverage
      script: make coverage
